<!--pages/mine/profile/profile.wxml-->
<view class="profile-page">
  <view class="form-section">
    <!-- 头像 -->
    <view class="form-item avatar-item" bindtap="chooseAvatar">
      <text class="form-label">头像</text>
      <view class="form-value">
        <image class="avatar-preview" src="{{avatar || '/images/default-avatar.png'}}" mode="aspectFill"/>
        <text class="arrow">></text>
      </view>
    </view>

    <!-- 昵称 -->
    <view class="form-item">
      <text class="form-label">昵称</text>
      <input 
        class="form-input"
        placeholder="请输入昵称"
        value="{{nickname}}"
        bindinput="onNicknameInput"
        maxlength="20"
      />
    </view>

    <!-- 性别 -->
    <view class="form-item" bindtap="chooseGender">
      <text class="form-label">性别</text>
      <view class="form-value">
        <text class="value-text">{{genderText}}</text>
        <text class="arrow">></text>
      </view>
    </view>

    <!-- 手机号 -->
    <view class="form-item">
      <text class="form-label">手机号</text>
      <input 
        class="form-input"
        type="number"
        placeholder="请输入手机号"
        value="{{phone}}"
        bindinput="onPhoneInput"
        maxlength="11"
      />
    </view>

    <!-- 邮箱 -->
    <view class="form-item">
      <text class="form-label">邮箱</text>
      <input 
        class="form-input"
        type="text"
        placeholder="请输入邮箱"
        value="{{email}}"
        bindinput="onEmailInput"
      />
    </view>
  </view>

  <view class="form-section">
    <!-- 目标院校 -->
    <view class="form-item">
      <text class="form-label">目标院校</text>
      <input 
        class="form-input"
        placeholder="请输入目标院校"
        value="{{targetSchool}}"
        bindinput="onTargetSchoolInput"
      />
    </view>

    <!-- 目标专业 -->
    <view class="form-item">
      <text class="form-label">目标专业</text>
      <view class="form-value">
        <text class="value-text">{{majorName || '请选择'}}</text>
        <text class="arrow">></text>
      </view>
    </view>

    <!-- 备考年份 -->
    <view class="form-item" bindtap="chooseYear">
      <text class="form-label">备考年份</text>
      <view class="form-value">
        <text class="value-text">{{examYear || '请选择'}}</text>
        <text class="arrow">></text>
      </view>
    </view>
  </view>

  <!-- 个人简介 -->
  <view class="form-section">
    <view class="form-item column">
      <text class="form-label">个人简介</text>
      <textarea 
        class="form-textarea"
        placeholder="介绍一下自己吧..."
        value="{{introduction}}"
        bindinput="onIntroductionInput"
        maxlength="200"
      />
      <text class="char-count">{{introduction.length}}/200</text>
    </view>
  </view>

  <!-- 保存按钮 -->
  <view class="save-btn" bindtap="saveProfile">
    保存
  </view>
</view>
