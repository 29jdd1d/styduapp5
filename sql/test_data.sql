-- ============================================
-- 考研学习小程序 测试数据脚本
-- 创建时间: 2024
-- ============================================

-- ============================================
-- 1. 用户服务测试数据
-- ============================================
USE `studyapp_user`;

-- 测试用户数据
INSERT INTO `user` (`openid`, `nickname`, `avatar`, `phone`, `gender`, `major_id`, `exam_year`, `study_days`, `total_questions`, `status`) VALUES
('wx_test_user_001', '考研小明', 'https://example.com/avatar/1.png', '13800138001', 1, 1, 2025, 45, 320, 1),
('wx_test_user_002', '学霸小红', 'https://example.com/avatar/2.png', '13800138002', 2, 1, 2025, 78, 560, 1),
('wx_test_user_003', '努力小华', 'https://example.com/avatar/3.png', '13800138003', 1, 2, 2025, 32, 180, 1),
('wx_test_user_004', '坚持小李', 'https://example.com/avatar/4.png', '13800138004', 2, 3, 2025, 56, 420, 1),
('wx_test_user_005', '奋斗小张', 'https://example.com/avatar/5.png', '13800138005', 1, 5, 2026, 23, 150, 1),
('wx_test_user_006', '加油小王', 'https://example.com/avatar/6.png', '13800138006', 2, 6, 2026, 15, 90, 1),
('wx_test_user_007', '冲刺小赵', 'https://example.com/avatar/7.png', '13800138007', 1, 7, 2025, 89, 780, 1),
('wx_test_user_008', '必胜小刘', 'https://example.com/avatar/8.png', '13800138008', 2, 8, 2025, 42, 280, 1),
('wx_test_user_009', '上岸小陈', 'https://example.com/avatar/9.png', '13800138009', 1, 1, 2025, 120, 1200, 1),
('wx_test_user_010', '梦想小周', 'https://example.com/avatar/10.png', '13800138010', 2, 2, 2026, 8, 45, 1);

-- ============================================
-- 2. 题库服务测试数据
-- ============================================
USE `studyapp_question`;

-- 计算机专业题目分类
INSERT INTO `question_category` (`major_id`, `parent_id`, `name`, `description`, `question_count`, `sort`, `status`) VALUES
-- 计算机科学与技术 (major_id=1)
(1, 0, '数据结构', '数据结构相关知识点', 50, 1, 1),
(1, 0, '计算机组成原理', '计组相关知识点', 40, 2, 1),
(1, 0, '操作系统', '操作系统相关知识点', 45, 3, 1),
(1, 0, '计算机网络', '计网相关知识点', 35, 4, 1),
-- 数据结构子分类
(1, 1, '线性表', '数组、链表等线性结构', 15, 1, 1),
(1, 1, '栈和队列', '栈和队列相关', 10, 2, 1),
(1, 1, '树和二叉树', '树形结构相关', 15, 3, 1),
(1, 1, '图', '图论相关', 10, 4, 1),
-- 操作系统子分类
(1, 3, '进程管理', '进程与线程', 15, 1, 1),
(1, 3, '内存管理', '内存分配与调度', 15, 2, 1),
(1, 3, '文件系统', '文件管理', 10, 3, 1),
-- 计算机网络子分类
(1, 4, 'TCP/IP协议', 'TCP/IP协议栈', 15, 1, 1),
(1, 4, '应用层协议', 'HTTP、DNS等', 10, 2, 1),
-- 软件工程 (major_id=2)
(2, 0, '软件工程基础', '软件工程概论', 30, 1, 1),
(2, 0, '软件设计模式', '常用设计模式', 25, 2, 1),
(2, 0, '软件测试', '软件测试方法', 20, 3, 1),
-- 金融学 (major_id=5)
(5, 0, '金融学基础', '金融学原理', 40, 1, 1),
(5, 0, '投资学', '投资理论与实务', 35, 2, 1),
(5, 0, '国际金融', '国际金融理论', 25, 3, 1),
-- 法学 (major_id=7)
(7, 0, '民法学', '民法相关知识', 50, 1, 1),
(7, 0, '刑法学', '刑法相关知识', 45, 2, 1),
(7, 0, '宪法学', '宪法相关知识', 30, 3, 1);

-- 题目数据 - 数据结构
INSERT INTO `question` (`major_id`, `category_id`, `type`, `difficulty`, `content`, `options`, `answer`, `analysis`, `source`, `year`, `sort`, `status`) VALUES
-- 线性表题目 (category_id=5)
(1, 5, 1, 1, '在一个长度为n的顺序表中删除第i个元素，需要移动多少个元素？', '["A. n-i", "B. n-i+1", "C. n-i-1", "D. i"]', 'A', '删除第i个元素后，第i+1到第n个元素都需要前移一位，共n-i个元素。', '408真题', 2023, 1, 1),
(1, 5, 1, 1, '顺序表中逻辑上相邻的元素，其物理位置（）相邻', '["A. 一定", "B. 不一定", "C. 一定不", "D. 无法确定"]', 'A', '顺序表的特点是逻辑相邻的元素物理位置也相邻，这是顺序存储结构的基本特征。', '408真题', 2022, 2, 1),
(1, 5, 1, 2, '单链表中，增加头结点的目的是（）', '["A. 使单链表至少有一个结点", "B. 标识表结点中首结点的位置", "C. 方便运算的实现", "D. 说明单链表是线性表的链式存储"]', 'C', '增加头结点可以统一空表和非空表的操作，使插入和删除操作更加方便。', '408真题', 2021, 3, 1),
(1, 5, 2, 2, '关于线性表，以下说法正确的是（）', '["A. 线性表的顺序存储结构优于链式存储结构", "B. 链表的插入和删除操作比顺序表效率高", "C. 顺序表可以随机访问任一元素", "D. 链表可以随机访问任一元素"]', 'BC', '顺序表支持随机访问O(1)，链表需要顺序查找O(n)。链表的插入删除只需修改指针O(1)，顺序表需要移动元素O(n)。', '模拟题', NULL, 4, 1),
(1, 5, 3, 1, '在双向链表中，每个结点有两个指针域。', '[]', '1', '双向链表的每个结点包含数据域、前驱指针prior和后继指针next，共两个指针域。', '基础题', NULL, 5, 1),

-- 栈和队列题目 (category_id=6)
(1, 6, 1, 1, '栈的特点是（）', '["A. 先进先出", "B. 先进后出", "C. 随机访问", "D. 以上都不对"]', 'B', '栈是一种后进先出(LIFO)的数据结构，只允许在栈顶进行插入和删除操作。', '408真题', 2023, 1, 1),
(1, 6, 1, 2, '若进栈序列为1,2,3,4，则不可能的出栈序列是（）', '["A. 1,2,3,4", "B. 4,3,2,1", "C. 1,3,2,4", "D. 4,1,2,3"]', 'D', '4先出栈意味着1,2,3都在栈中，此时栈顶是3，不可能1先于2,3出栈。', '408真题', 2022, 2, 1),
(1, 6, 1, 2, '用两个栈S1和S2模拟一个队列，入队操作是（）', '["A. 元素压入S1", "B. 元素压入S2", "C. 从S1弹出压入S2", "D. 从S2弹出压入S1"]', 'A', '用两个栈模拟队列时，S1用于入队（压入），S2用于出队。当S2为空时，将S1的所有元素依次弹出并压入S2。', '408真题', 2021, 3, 1),
(1, 6, 1, 1, '循环队列中，队满和队空的判断条件相同，需要（）来区分', '["A. 设置标志位", "B. 牺牲一个存储单元", "C. A或B都可以", "D. 无法区分"]', 'C', '循环队列判断队满和队空都是front==rear，可以通过设置标志位或少用一个存储单元来区分。', '模拟题', NULL, 4, 1),

-- 树和二叉树题目 (category_id=7)
(1, 7, 1, 1, '一棵完全二叉树有1000个结点，则它的叶子结点个数是（）', '["A. 499", "B. 500", "C. 501", "D. 502"]', 'B', '完全二叉树叶子结点数 = ⌊(n+1)/2⌋ = ⌊1001/2⌋ = 500', '408真题', 2023, 1, 1),
(1, 7, 1, 2, '二叉树的先序遍历序列和中序遍历序列（）确定一棵二叉树', '["A. 能唯一", "B. 不能唯一", "C. 有时能有时不能", "D. 以上都不对"]', 'A', '先序遍历确定根结点，中序遍历确定左右子树，递归即可唯一确定二叉树。', '408真题', 2022, 2, 1),
(1, 7, 1, 2, '具有n个结点的二叉树，其空指针域的个数为（）', '["A. n", "B. n+1", "C. n-1", "D. 2n"]', 'B', 'n个结点共有2n个指针域，非空指针n-1个（除根结点外每个结点有一个父指针），空指针2n-(n-1)=n+1个。', '408真题', 2021, 3, 1),
(1, 7, 1, 3, '若二叉树采用二叉链表存储，要交换所有分支结点的左右子树，采用（）遍历最合适', '["A. 先序", "B. 中序", "C. 后序", "D. 层次"]', 'C', '后序遍历先处理子树再处理根，可以保证交换时子树已经处理完毕，避免重复交换。', '408真题', 2020, 4, 1),

-- 图题目 (category_id=8)
(1, 8, 1, 2, '一个有n个顶点的无向完全图，共有（）条边', '["A. n(n-1)", "B. n(n-1)/2", "C. n²", "D. n(n+1)/2"]', 'B', '无向完全图每两个顶点之间都有一条边，共C(n,2)=n(n-1)/2条边。', '408真题', 2023, 1, 1),
(1, 8, 1, 2, '用邻接表存储图，则图的DFS算法的时间复杂度为（）', '["A. O(n)", "B. O(n²)", "C. O(n+e)", "D. O(e)"]', 'C', '邻接表存储时，DFS需要访问所有顶点O(n)和所有边O(e)，总时间复杂度O(n+e)。', '408真题', 2022, 2, 1),
(1, 8, 1, 2, 'Dijkstra算法用于求（）', '["A. 最小生成树", "B. 单源最短路径", "C. 拓扑排序", "D. 关键路径"]', 'B', 'Dijkstra算法用于求带权图中从源点到其他所有顶点的最短路径，不能处理负权边。', '408真题', 2021, 3, 1),

-- 进程管理题目 (category_id=9)
(1, 9, 1, 1, '进程和程序的本质区别是（）', '["A. 存储位置不同", "B. 动态性", "C. 代码量不同", "D. 功能不同"]', 'B', '进程是程序的一次执行过程，具有动态性、并发性、独立性、异步性等特点，程序是静态的。', '408真题', 2023, 1, 1),
(1, 9, 1, 2, '进程从运行态转换为阻塞态的原因是（）', '["A. 时间片用完", "B. 进程调度", "C. 等待某一事件", "D. 事件完成"]', 'C', '进程等待I/O完成、等待信号量等事件时，会主动从运行态转换为阻塞态。', '408真题', 2022, 2, 1),
(1, 9, 1, 2, '以下（）不是进程的基本状态', '["A. 运行", "B. 就绪", "C. 阻塞", "D. 挂起"]', 'D', '进程的三个基本状态是运行态、就绪态和阻塞态。挂起态是引入虚拟内存后的扩展状态。', '408真题', 2021, 3, 1),
(1, 9, 2, 2, '关于死锁，以下说法正确的是（）', '["A. 死锁一定是由于资源不足引起的", "B. 死锁的四个必要条件必须同时满足", "C. 银行家算法用于死锁检测", "D. 死锁必然导致系统崩溃"]', 'B', '死锁需要同时满足互斥、占有等待、不可剥夺、循环等待四个条件。银行家算法用于死锁避免。', '模拟题', NULL, 4, 1),

-- 内存管理题目 (category_id=10)
(1, 10, 1, 2, '虚拟内存的最大容量由（）决定', '["A. 物理内存大小", "B. 外存大小", "C. 计算机地址位数", "D. 页表大小"]', 'C', '虚拟内存的最大容量由计算机的地址位数决定，如32位系统最大4GB虚拟地址空间。', '408真题', 2023, 1, 1),
(1, 10, 1, 2, '在分页存储管理中，逻辑地址到物理地址的转换过程需要（）次访存', '["A. 1", "B. 2", "C. 3", "D. 不确定"]', 'B', '不考虑TLB时，需要先访问页表获取页框号（1次），再访问实际数据（1次），共2次。', '408真题', 2022, 2, 1),
(1, 10, 1, 2, 'LRU页面置换算法淘汰的是（）', '["A. 最近最少使用的页面", "B. 最先进入内存的页面", "C. 使用次数最少的页面", "D. 即将最长时间不用的页面"]', 'A', 'LRU(Least Recently Used)算法淘汰最近最少使用的页面，是一种栈算法。', '408真题', 2021, 3, 1),

-- TCP/IP题目 (category_id=12)
(1, 12, 1, 1, 'TCP协议是（）协议', '["A. 面向连接的可靠传输", "B. 面向连接的不可靠传输", "C. 无连接的可靠传输", "D. 无连接的不可靠传输"]', 'A', 'TCP是面向连接的可靠传输协议，提供流量控制、拥塞控制、差错控制等机制。', '408真题', 2023, 1, 1),
(1, 12, 1, 2, 'TCP三次握手的目的是（）', '["A. 确认双方发送和接收能力正常", "B. 协商最大报文段长度", "C. 防止已失效的连接请求", "D. 以上都是"]', 'D', 'TCP三次握手确认双方收发能力、协商参数、防止旧连接请求导致的问题。', '408真题', 2022, 2, 1),
(1, 12, 1, 2, 'TCP的滑动窗口机制主要用于（）', '["A. 差错控制", "B. 流量控制", "C. 拥塞控制", "D. 连接管理"]', 'B', '滑动窗口机制通过控制发送方的发送速率，实现流量控制，防止接收方缓冲区溢出。', '408真题', 2021, 3, 1),

-- 应用层协议题目 (category_id=13)
(1, 13, 1, 1, 'HTTP协议默认使用的端口号是（）', '["A. 21", "B. 23", "C. 80", "D. 443"]', 'C', 'HTTP默认端口80，HTTPS默认端口443，FTP默认端口21，Telnet默认端口23。', '408真题', 2023, 1, 1),
(1, 13, 1, 1, 'DNS协议主要使用（）传输层协议', '["A. TCP", "B. UDP", "C. TCP和UDP", "D. 都不是"]', 'C', 'DNS查询通常使用UDP协议（快速），区域传送使用TCP协议（可靠）。', '408真题', 2022, 2, 1),

-- 金融学题目 (category_id=17)
(5, 17, 1, 1, '货币的本质是（）', '["A. 一般等价物", "B. 贵金属", "C. 商品", "D. 价值符号"]', 'A', '货币的本质是固定充当一般等价物的特殊商品，体现了商品生产者之间的社会关系。', '金融学原理', 2023, 1, 1),
(5, 17, 1, 2, '中央银行的主要职能不包括（）', '["A. 发行货币", "B. 银行的银行", "C. 吸收公众存款", "D. 政府的银行"]', 'C', '中央银行不直接对公众办理存贷款业务，只与商业银行和政府发生业务关系。', '金融学原理', 2022, 2, 1),

-- 民法学题目 (category_id=20)
(7, 20, 1, 1, '民事主体包括（）', '["A. 自然人", "B. 法人", "C. 非法人组织", "D. 以上都是"]', 'D', '根据《民法典》规定，民事主体包括自然人、法人和非法人组织三类。', '民法学', 2023, 1, 1),
(7, 20, 1, 2, '物权的特征不包括（）', '["A. 绝对性", "B. 排他性", "C. 相对性", "D. 支配性"]', 'C', '物权是绝对权、对世权，具有绝对性、排他性、支配性。相对性是债权的特征。', '民法学', 2022, 2, 1);

-- ============================================
-- 3. 课程服务测试数据
-- ============================================
USE `studyapp_course`;

-- 课程数据
INSERT INTO `course` (`major_id`, `title`, `cover`, `description`, `teacher_name`, `teacher_avatar`, `is_free`, `view_count`, `chapter_count`, `video_count`, `sort`, `status`) VALUES
(1, '数据结构与算法精讲', 'https://example.com/course/cover/1.png', '系统讲解数据结构的基本概念、常见数据结构的实现及应用，包括线性表、树、图等', '王老师', 'https://example.com/teacher/1.png', 1, 15680, 8, 42, 1, 1),
(1, '计算机组成原理精讲', 'https://example.com/course/cover/2.png', '深入讲解计算机硬件系统的组成、工作原理及性能优化', '李老师', 'https://example.com/teacher/2.png', 1, 12340, 6, 35, 2, 1),
(1, '操作系统核心考点', 'https://example.com/course/cover/3.png', '全面覆盖操作系统的进程管理、内存管理、文件系统等核心知识点', '张老师', 'https://example.com/teacher/3.png', 1, 18920, 7, 38, 3, 1),
(1, '计算机网络通关指南', 'https://example.com/course/cover/4.png', '系统讲解网络体系结构、协议原理及网络安全相关知识', '赵老师', 'https://example.com/teacher/4.png', 1, 14560, 6, 32, 4, 1),
(2, '软件工程方法论', 'https://example.com/course/cover/5.png', '介绍软件开发的基本流程、方法学和最佳实践', '陈老师', 'https://example.com/teacher/5.png', 1, 8760, 5, 25, 1, 1),
(5, '金融学基础入门', 'https://example.com/course/cover/6.png', '系统讲解金融学的基本理论和核心概念', '刘老师', 'https://example.com/teacher/6.png', 1, 9870, 6, 28, 1, 1),
(7, '民法学重点突破', 'https://example.com/course/cover/7.png', '深入解析民法典的核心条文和典型案例', '周老师', 'https://example.com/teacher/7.png', 1, 11230, 8, 45, 1, 1);

-- 课程章节数据
INSERT INTO `course_chapter` (`course_id`, `title`, `sort`, `status`) VALUES
-- 数据结构课程章节
(1, '第一章 绑论', 1, 1),
(1, '第二章 线性表', 2, 1),
(1, '第三章 栈和队列', 3, 1),
(1, '第四章 树与二叉树', 4, 1),
(1, '第五章 图', 5, 1),
(1, '第六章 查找', 6, 1),
(1, '第七章 排序', 7, 1),
(1, '第八章 真题精讲', 8, 1),
-- 计算机组成原理课程章节
(2, '第一章 计算机系统概述', 1, 1),
(2, '第二章 数据的表示和运算', 2, 1),
(2, '第三章 存储系统', 3, 1),
(2, '第四章 指令系统', 4, 1),
(2, '第五章 中央处理器', 5, 1),
(2, '第六章 总线与I/O', 6, 1),
-- 操作系统课程章节
(3, '第一章 操作系统概述', 1, 1),
(3, '第二章 进程管理', 2, 1),
(3, '第三章 内存管理', 3, 1),
(3, '第四章 文件管理', 4, 1),
(3, '第五章 I/O管理', 5, 1),
(3, '第六章 死锁', 6, 1),
(3, '第七章 真题精讲', 7, 1);

-- 课程视频数据
INSERT INTO `course_video` (`chapter_id`, `title`, `video_url`, `video_key`, `duration`, `is_free`, `sort`, `status`) VALUES
-- 数据结构第一章视频
(1, '1.1 什么是数据结构', NULL, 'course/1/1/1-1.mp4', 1200, 1, 1, 1),
(1, '1.2 算法的基本概念', NULL, 'course/1/1/1-2.mp4', 1500, 1, 2, 1),
(1, '1.3 算法复杂度分析', NULL, 'course/1/1/1-3.mp4', 1800, 0, 3, 1),
-- 数据结构第二章视频
(2, '2.1 线性表的定义', NULL, 'course/1/2/2-1.mp4', 1350, 1, 1, 1),
(2, '2.2 顺序表的实现', NULL, 'course/1/2/2-2.mp4', 1620, 0, 2, 1),
(2, '2.3 单链表的实现', NULL, 'course/1/2/2-3.mp4', 1980, 0, 3, 1),
(2, '2.4 双向链表与循环链表', NULL, 'course/1/2/2-4.mp4', 1450, 0, 4, 1),
(2, '2.5 线性表习题精讲', NULL, 'course/1/2/2-5.mp4', 2100, 0, 5, 1),
-- 数据结构第三章视频
(3, '3.1 栈的基本概念', NULL, 'course/1/3/3-1.mp4', 1280, 1, 1, 1),
(3, '3.2 栈的应用', NULL, 'course/1/3/3-2.mp4', 1650, 0, 2, 1),
(3, '3.3 队列的基本概念', NULL, 'course/1/3/3-3.mp4', 1420, 0, 3, 1),
(3, '3.4 循环队列', NULL, 'course/1/3/3-4.mp4', 1560, 0, 4, 1),
-- 数据结构第四章视频
(4, '4.1 树的基本概念', NULL, 'course/1/4/4-1.mp4', 1380, 1, 1, 1),
(4, '4.2 二叉树的性质', NULL, 'course/1/4/4-2.mp4', 1720, 0, 2, 1),
(4, '4.3 二叉树的遍历', NULL, 'course/1/4/4-3.mp4', 2050, 0, 3, 1),
(4, '4.4 哈夫曼树与哈夫曼编码', NULL, 'course/1/4/4-4.mp4', 1880, 0, 4, 1),
-- 计算机组成原理第一章视频
(9, '1.1 计算机发展历程', NULL, 'course/2/1/1-1.mp4', 1150, 1, 1, 1),
(9, '1.2 计算机系统的层次结构', NULL, 'course/2/1/1-2.mp4', 1380, 1, 2, 1),
(9, '1.3 计算机的性能指标', NULL, 'course/2/1/1-3.mp4', 1520, 0, 3, 1),
-- 操作系统第一章视频
(15, '1.1 操作系统的概念', NULL, 'course/3/1/1-1.mp4', 1280, 1, 1, 1),
(15, '1.2 操作系统的发展历程', NULL, 'course/3/1/1-2.mp4', 1450, 1, 2, 1),
(15, '1.3 操作系统的功能', NULL, 'course/3/1/1-3.mp4', 1620, 0, 3, 1);

-- ============================================
-- 4. 刷题服务测试数据
-- ============================================
USE `studyapp_practice`;

-- 试卷数据
INSERT INTO `exam` (`title`, `major_id`, `total_score`, `pass_score`, `duration`, `question_count`, `type`, `year`, `status`) VALUES
('2023年408计算机真题', 1, 150, 90, 180, 45, 2, 2023, 1),
('2022年408计算机真题', 1, 150, 90, 180, 45, 2, 2022, 1),
('2021年408计算机真题', 1, 150, 90, 180, 45, 2, 2021, 1),
('数据结构模拟卷（一）', 1, 100, 60, 120, 30, 1, NULL, 1),
('数据结构模拟卷（二）', 1, 100, 60, 120, 30, 1, NULL, 1),
('操作系统模拟卷（一）', 1, 100, 60, 120, 30, 1, NULL, 1),
('计算机网络模拟卷（一）', 1, 100, 60, 120, 30, 1, NULL, 1),
('2023年金融学真题', 5, 150, 90, 180, 50, 2, 2023, 1),
('金融学模拟卷（一）', 5, 100, 60, 120, 35, 1, NULL, 1),
('2023年法学真题', 7, 150, 90, 180, 50, 2, 2023, 1);

-- 试卷题目关联（示例）
INSERT INTO `exam_question` (`exam_id`, `question_id`, `score`, `sort`) VALUES
(4, 1, 3, 1),
(4, 2, 3, 2),
(4, 3, 3, 3),
(4, 4, 5, 4),
(4, 5, 3, 5),
(4, 6, 3, 6),
(4, 7, 3, 7),
(4, 8, 3, 8),
(4, 9, 3, 9),
(4, 10, 5, 10);

-- 用户做题记录（示例）
INSERT INTO `practice_record` (`user_id`, `major_id`, `category_id`, `mode`, `total_count`, `correct_count`, `wrong_count`, `status`, `start_time`, `end_time`) VALUES
(1, 1, 5, 1, 20, 15, 5, 1, '2024-12-10 09:00:00', '2024-12-10 09:45:00'),
(1, 1, 6, 1, 15, 12, 3, 1, '2024-12-11 10:00:00', '2024-12-11 10:30:00'),
(2, 1, 7, 2, 25, 22, 3, 1, '2024-12-10 14:00:00', '2024-12-10 15:00:00'),
(2, 1, NULL, 2, 30, 24, 6, 1, '2024-12-12 08:00:00', '2024-12-12 09:00:00'),
(3, 2, 14, 1, 18, 14, 4, 1, '2024-12-11 16:00:00', '2024-12-11 16:45:00');

-- 错题本数据
INSERT INTO `user_wrong_question` (`user_id`, `question_id`, `wrong_count`, `correct_count`, `last_wrong_time`, `is_removed`) VALUES
(1, 3, 2, 0, '2024-12-11 10:15:00', 0),
(1, 7, 1, 0, '2024-12-10 09:30:00', 0),
(1, 12, 3, 1, '2024-12-12 14:20:00', 0),
(2, 5, 1, 0, '2024-12-10 14:30:00', 0),
(2, 15, 2, 0, '2024-12-12 08:45:00', 0);

-- 收藏题目数据
INSERT INTO `user_favorite_question` (`user_id`, `question_id`) VALUES
(1, 1),
(1, 6),
(1, 10),
(1, 15),
(2, 3),
(2, 7),
(2, 11),
(3, 5),
(3, 9);

-- 用户考试记录
INSERT INTO `user_exam_record` (`user_id`, `exam_id`, `score`, `correct_count`, `wrong_count`, `time_spent`, `status`, `start_time`, `submit_time`) VALUES
(1, 4, 85, 25, 5, 5400, 1, '2024-12-08 09:00:00', '2024-12-08 10:30:00'),
(1, 5, 78, 23, 7, 6000, 1, '2024-12-09 14:00:00', '2024-12-09 15:40:00'),
(2, 4, 92, 28, 2, 4800, 1, '2024-12-08 10:00:00', '2024-12-08 11:20:00'),
(2, 1, 125, 38, 7, 9600, 1, '2024-12-10 08:00:00', '2024-12-10 10:40:00'),
(7, 1, 138, 42, 3, 10200, 1, '2024-12-10 09:00:00', '2024-12-10 11:50:00');

-- ============================================
-- 5. 打卡服务测试数据
-- ============================================
USE `studyapp_checkin`;

-- 打卡记录
INSERT INTO `checkin_record` (`user_id`, `checkin_date`, `study_minutes`, `question_count`, `content`, `mood`) VALUES
-- 用户1的打卡记录
(1, '2024-12-07', 120, 30, '今天复习了数据结构的线性表部分', 4),
(1, '2024-12-08', 180, 45, '刷了一套数据结构模拟卷', 5),
(1, '2024-12-09', 90, 20, '复习了栈和队列', 3),
(1, '2024-12-10', 150, 35, '看了二叉树的视频课程', 4),
(1, '2024-12-11', 200, 50, '全面复习树的内容', 5),
(1, '2024-12-12', 160, 40, '开始复习图论', 4),
(1, '2024-12-13', 140, 32, '继续图论练习', 4),
-- 用户2的打卡记录
(2, '2024-12-05', 240, 60, '系统复习操作系统', 5),
(2, '2024-12-06', 180, 45, '进程管理专题训练', 4),
(2, '2024-12-07', 200, 55, '内存管理重点突破', 5),
(2, '2024-12-08', 220, 50, '做了一套真题', 5),
(2, '2024-12-09', 150, 35, '错题复习', 3),
(2, '2024-12-10', 190, 48, '计算机网络基础', 4),
(2, '2024-12-11', 210, 52, 'TCP/IP协议专题', 5),
(2, '2024-12-12', 170, 42, '应用层协议学习', 4),
(2, '2024-12-13', 185, 46, '网络安全基础', 4),
-- 用户7的打卡记录（学霸）
(7, '2024-12-01', 300, 80, '全天复习408', 5),
(7, '2024-12-02', 280, 75, '数据结构强化', 5),
(7, '2024-12-03', 320, 85, '组成原理突破', 5),
(7, '2024-12-04', 290, 78, '操作系统冲刺', 5),
(7, '2024-12-05', 310, 82, '计网最后复习', 5),
(7, '2024-12-06', 260, 70, '错题本清理', 4),
(7, '2024-12-07', 300, 80, '模拟考试', 5),
(7, '2024-12-08', 280, 72, '查漏补缺', 4),
(7, '2024-12-09', 250, 65, '重点回顾', 4),
(7, '2024-12-10', 330, 90, '真题演练', 5),
(7, '2024-12-11', 290, 76, '难点突破', 5),
(7, '2024-12-12', 270, 70, '综合训练', 4),
(7, '2024-12-13', 300, 80, '冲刺复习', 5);

-- 打卡统计
INSERT INTO `checkin_stats` (`user_id`, `total_days`, `current_streak`, `max_streak`, `total_minutes`, `last_checkin_date`) VALUES
(1, 45, 7, 15, 8100, '2024-12-13'),
(2, 78, 9, 25, 15600, '2024-12-13'),
(3, 32, 3, 10, 5760, '2024-12-11'),
(4, 56, 5, 18, 10080, '2024-12-12'),
(5, 23, 2, 8, 4140, '2024-12-10'),
(6, 15, 1, 5, 2700, '2024-12-09'),
(7, 89, 13, 35, 24030, '2024-12-13'),
(8, 42, 4, 12, 7560, '2024-12-11'),
(9, 120, 30, 45, 36000, '2024-12-13'),
(10, 8, 2, 4, 1440, '2024-12-12');

-- ============================================
-- 6. 社区服务测试数据
-- ============================================
USE `studyapp_community`;

-- 帖子数据
INSERT INTO `post` (`user_id`, `title`, `content`, `images`, `major_id`, `type`, `view_count`, `like_count`, `comment_count`, `is_top`, `is_essence`, `status`) VALUES
(1, '408复习经验分享：从零基础到130+', '大家好，我是今年上岸的学长。在这里分享一下我的408复习经验...\n\n一、数据结构复习建议\n1. 先看王道视频，把基础打好\n2. 然后做王道习题册\n3. 最后刷真题\n\n二、计算机组成原理\n1. 这门课比较抽象，建议多画图\n2. 重点掌握CPU和存储系统\n\n三、操作系统\n1. 进程管理是重中之重\n2. 内存管理要理解页式存储\n\n四、计算机网络\n1. TCP/IP协议族必考\n2. 网络层和传输层是重点\n\n希望对大家有帮助！', '["https://example.com/post/1/1.png", "https://example.com/post/1/2.png"]', 1, 1, 3560, 256, 45, 1, 1, 1),

(2, '求助：Dijkstra算法不太理解', '各位学长学姐好，我在学习图论的时候遇到了问题。Dijkstra算法的松弛操作我不太理解，为什么要不断更新最短路径？\n\n具体来说，我不明白为什么每次都要选择距离源点最近的未访问节点？\n\n求大佬解答！', NULL, 1, 2, 456, 23, 12, 0, 0, 1),

(7, '分享：王道数据结构思维导图', '花了两周时间整理的数据结构思维导图，包括：\n1. 线性表完整知识点\n2. 树和二叉树全部考点\n3. 图论算法汇总\n4. 查找和排序对比\n\n需要的同学可以收藏一下～', '["https://example.com/post/3/mindmap.png"]', 1, 3, 2890, 189, 67, 0, 1, 1),

(9, '上岸985！感谢一路陪伴', '查到拟录取那一刻真的哭了。。。从去年3月开始准备，到今年复试结束，整整一年。\n\n感谢这个App陪伴我度过了无数个日夜，每天打卡、刷题、看课程，已经成为了习惯。\n\n特别感谢社区里帮助过我的学长学姐们，你们的经验分享让我少走了很多弯路。\n\n现在我也想把我的经验分享给大家，希望能帮到正在备考的你们！', '["https://example.com/post/4/admit.png"]', 1, 1, 5680, 523, 156, 1, 1, 1),

(3, '今天的学习记录', '坚持打卡第32天！\n\n今天完成了：\n✅ 数据结构视频2小时\n✅ 刷题30道\n✅ 错题整理\n\n明天继续加油！', NULL, 2, 4, 234, 45, 8, 0, 0, 1),

(4, '金融学复习资料整理', '整理了一些金融学的复习资料，包括：\n1. 货币银行学笔记\n2. 国际金融重点总结\n3. 投资学公式汇总\n\n有需要的可以留言交流～', '["https://example.com/post/6/finance.png"]', 5, 3, 1230, 78, 23, 0, 0, 1),

(5, '法考和考研可以同时准备吗？', '本人法学专业，想问问各位有没有同时准备法考和考研的经验？时间上怎么分配比较合理？\n\n目前的想法是上半年主攻法考，下半年专注考研，但是不知道这样来不来得及...', NULL, 7, 2, 678, 34, 19, 0, 0, 1),

(8, '英语一阅读技巧分享', '英语阅读是很多同学的痛点，分享一些我的做题技巧：\n\n1. 先看题目，带着问题读文章\n2. 注意转折词，后面往往是重点\n3. 长难句不要纠结，抓主干\n4. 选项中的绝对词要小心\n\n这些方法帮我阅读从错一半到基本全对，希望对大家有帮助！', NULL, NULL, 1, 2340, 167, 45, 0, 1, 1),

(6, '考研期间怎么调节心态？', '最近压力好大，感觉复习效率很低，晚上也睡不好。有没有同学分享一下怎么调节心态？', NULL, NULL, 4, 890, 56, 28, 0, 0, 1),

(10, '新人报到，求组队学习', '刚开始准备考研，计划考计算机专业。有没有一起学习的小伙伴？可以互相监督打卡！', NULL, 1, 4, 345, 23, 15, 0, 0, 1);

-- 评论数据
INSERT INTO `post_comment` (`post_id`, `user_id`, `parent_id`, `reply_user_id`, `content`, `like_count`, `status`) VALUES
-- 帖子1的评论
(1, 2, 0, NULL, '太棒了！正好需要这样的经验分享，收藏了！', 45, 1),
(1, 3, 0, NULL, '学长能分享一下作息时间吗？', 23, 1),
(1, 1, 2, 3, '每天6点起床，11点睡觉，中午休息1小时', 18, 1),
(1, 7, 0, NULL, '补充一下，数据结构建议先过一遍严蔚敏的教材', 34, 1),
(1, 9, 0, NULL, '确实，基础要打好，后面做题才顺利', 12, 1),

-- 帖子2的评论
(2, 7, 0, NULL, 'Dijkstra每次选最近的点是贪心策略，保证每次确定的最短路径是最优的', 15, 1),
(2, 1, 0, NULL, '建议画图理解，从源点开始一步步模拟', 8, 1),
(2, 2, 7, 7, '谢谢学长！我再画图理解一下', 3, 1),
(2, 9, 0, NULL, '推荐看一下B站上的Dijkstra动画演示，很直观', 12, 1),

-- 帖子3的评论
(3, 1, 0, NULL, '太强了！已收藏！', 23, 1),
(3, 2, 0, NULL, '图论部分画得真清晰', 18, 1),
(3, 3, 0, NULL, '能分享一下原文件吗？', 8, 1),
(3, 7, 3, 3, '私信我吧，发你', 5, 1),

-- 帖子4的评论
(4, 1, 0, NULL, '恭喜恭喜！！！', 56, 1),
(4, 2, 0, NULL, '太厉害了，向你学习！', 34, 1),
(4, 3, 0, NULL, '学长有没有备考计划表分享？', 28, 1),
(4, 5, 0, NULL, '沾沾喜气！明年我也要上岸！', 45, 1),
(4, 6, 0, NULL, '鼓励到我了，继续努力！', 23, 1),
(4, 7, 0, NULL, '恭喜！一起加油！', 18, 1),
(4, 8, 0, NULL, '真的很励志！', 15, 1),

-- 帖子6的评论
(6, 1, 0, NULL, '我也整理了一些，可以一起交流', 12, 1),
(6, 5, 0, NULL, '求公式汇总！', 8, 1),

-- 帖子9的评论
(9, 1, 0, NULL, '适当运动很有帮助，我每天跑步30分钟', 23, 1),
(9, 7, 0, NULL, '可以试试冥想，我用的headspace', 18, 1),
(9, 9, 0, NULL, '找个研友一起学习会好很多', 15, 1);

-- 帖子点赞数据
INSERT INTO `post_like` (`post_id`, `user_id`) VALUES
(1, 2), (1, 3), (1, 4), (1, 5), (1, 6), (1, 7), (1, 8), (1, 9), (1, 10),
(2, 1), (2, 7), (2, 9),
(3, 1), (3, 2), (3, 4), (3, 5), (3, 6), (3, 8), (3, 9), (3, 10),
(4, 1), (4, 2), (4, 3), (4, 5), (4, 6), (4, 7), (4, 8), (4, 10),
(7, 1), (7, 2), (7, 3), (7, 4), (7, 5), (7, 6), (7, 9), (7, 10),
(8, 1), (8, 2), (8, 3), (8, 4), (8, 5), (8, 7), (8, 9);

-- 评论点赞数据
INSERT INTO `comment_like` (`comment_id`, `user_id`) VALUES
(1, 1), (1, 3), (1, 4), (1, 5),
(2, 1), (2, 2), (2, 4),
(4, 1), (4, 2), (4, 3), (4, 5),
(6, 2), (6, 3), (6, 4),
(14, 2), (14, 3), (14, 5), (14, 6), (14, 7);

-- ============================================
-- 7. 管理后台测试数据
-- ============================================
USE `studyapp_admin`;

-- 添加更多管理员账号
INSERT INTO `admin_user` (`username`, `password`, `nickname`, `phone`, `email`, `role`, `status`) VALUES
('editor', '0192023a7bbd73250516f069df18b500', '内容编辑', '13900139001', 'editor@example.com', 2, 1),
('auditor', '0192023a7bbd73250516f069df18b500', '审核员', '13900139002', 'auditor@example.com', 2, 1);

-- ============================================
-- 完成
-- ============================================

SELECT '测试数据导入完成！' AS message;
SELECT '用户数据: 10条' AS info UNION ALL
SELECT '题目分类: 22条' UNION ALL
SELECT '题目数据: 32条' UNION ALL
SELECT '课程数据: 7条' UNION ALL
SELECT '章节数据: 21条' UNION ALL
SELECT '视频数据: 22条' UNION ALL
SELECT '试卷数据: 10条' UNION ALL
SELECT '打卡记录: 27条' UNION ALL
SELECT '帖子数据: 10条' UNION ALL
SELECT '评论数据: 25条';
